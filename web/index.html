<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreekLingua Dashboard</title>
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --bg-body: #0F0F11;
            --bg-card: #1C1C1E;
            --bg-card-hover: #242426;
            --accent: #007AFF;
            --accent-glow: rgba(0, 122, 255, 0.3);
            --text-main: #EDEDED;
            --text-sub: #8E8E93;
            --border-light: rgba(255, 255, 255, 0.05);
            --font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        * {
            box-sizing: border-box;
            user-select: none;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: var(--font-family);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            -webkit-font-smoothing: antialiased;
        }

        /* DEBUG COLORS (User Requested) - DISABLED */
        /*
        header { background: rgba(255, 0, 0, 0.1) !important; border: 1px solid red; position: relative; }
        .hero-section { background: rgba(0, 255, 0, 0.1); border: 1px solid green; position: relative; }
        .stats-card { background: rgba(0, 0, 255, 0.1) !important; border: 1px dashed blue; position: relative; }
        .modules-grid { background: rgba(0, 255, 255, 0.1); border: 1px dashed cyan; position: relative; }
        .tile { background: rgba(255, 0, 255, 0.1) !important; border: 1px dotted magenta; }
        */



        /* HEADER */
        header {
            height: 70px;
            padding: 0 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-light);
            background: rgba(15, 15, 17, 0.9);
            backdrop-filter: blur(20px);
            z-index: 100;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 20px;
            font-weight: 700;
            color: #fff;
        }
        
        .brand-icon { font-size: 24px; }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            background: #1C1C1E;
            padding: 6px 16px 6px 6px;
            border-radius: 30px;
            border: 1px solid var(--border-light);
            cursor: pointer;
        }

        .avatar {
            width: 32px; height: 32px;
            background: linear-gradient(135deg, #007AFF, #5856D6);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 13px; font-weight: 700; color: white;
        }

        .username { font-size: 14px; font-weight: 600; color: var(--text-main); }

        .datetime-display {
            font-size: 13px;
            font-weight: 500;
            color: #6E6E73;
            font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.05), 0 -1px 0 rgba(0, 0, 0, 0.5);
            padding: 6px 12px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.3);
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        /* VIEW MANAGEMENT */
        .view {
            display: none;
            flex: 1;
            flex-direction: column;
            overflow: hidden;
            height: 100%;
            animation: fadeIn 0.4s ease-out;
        }
        
        .view.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* DASHBOARD CONTENT */
        .dashboard-content {
            padding: 24px 32px;
            gap: 24px;
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden; 
        }

        .hero-section {
            display: flex;
            gap: 32px;
            align-items: stretch;
            height: 200px;
            flex-shrink: 0;
        }

        .stats-card {
            background: linear-gradient(160deg, #1C1C1E 0%, #151517 100%);
            border-radius: 24px;
            width: 340px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border: 1px solid var(--border-light);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .stats-card::after {
            content: '';
            position: absolute;
            top: -40px; right: -40px;
            width: 120px; height: 120px;
            background: radial-gradient(circle, rgba(0, 122, 255, 0.15), transparent 70%);
            pointer-events: none;
        }

        .stats-top { display: flex; justify-content: space-between; align-items: flex-start; }
        .level-badge { font-size: 32px; font-weight: 800; color: #fff; line-height: 1; }
        .level-label { font-size: 11px; color: var(--text-sub); font-weight: 700; text-transform: uppercase; margin-bottom: 4px; }
        .streak { background: rgba(255, 69, 58, 0.12); color: #FF453A; padding: 6px 12px; border-radius: 12px; font-size: 13px; font-weight: 700; display: flex; align-items: center; gap: 6px; }
        .stats-mid { display: flex; gap: 24px; margin-top: 10px; }
        .stat-item .val { font-size: 16px; font-weight: 700; color: #fff; }
        .stat-item .lbl { font-size: 11px; color: var(--text-sub); }
        .stats-footer { margin-top: auto; border-top: 1px solid rgba(255, 255, 255, 0.08); padding-top: 12px; font-size: 13px; color: #D1D1D6; line-height: 1.4; }

        .actions-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            justify-content: center;
            flex: 1;
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 24px;
        }
        
        .action-column { display: flex; flex-direction: column; gap: 16px; }

        .actions-inner-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 12px;
            width: 100%;
            height: 100%;
            padding: 12px;
            border-radius: 12px;
        }

        .grid-cell {
            background: transparent;
            border: none;
            border-radius: 8px;
            display: flex;
            align-items: stretch;
            justify-content: stretch;
            min-height: 40px;
        }

        .grid-cell .btn {
            width: 100%;
            height: 100%;
            min-width: auto;
            min-height: auto;
        }

        .btn {
            border: none; 
            border-radius: 18px; 
            font-family: inherit; 
            font-weight: 700; 
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 10px; 
            position: relative; 
            overflow: hidden;
            /* Glassmorphism Effect */
            background: rgba(255, 255, 255, 0.1) !important;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .btn:hover { transform: translateY(-2px) scale(1.02); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
        .btn:active { transform: scale(0.98); }

        .btn-primary { background: var(--accent); color: white; width: 50%; height: 50%; font-size: 17px; box-shadow: 0 8px 25px rgba(0, 122, 255, 0.25); min-width: 200px; min-height: 50px; }
        .btn-secondary { background: rgba(0, 122, 255, 0.1); color: #409CFF; width: 50%; height: 50%; font-size: 17px; border: 1px solid rgba(0, 122, 255, 0.2); min-width: 200px; min-height: 50px; }
        .btn-tertiary { background: transparent; color: #FF453A; border: 1px solid rgba(255, 69, 58, 0.3); font-size: 14px; height: 50%; width: 50%; border-radius: 14px; min-width: 200px; min-height: 45px; }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2px;
            padding: 10px 0 32px 0;
            overflow-y: auto;
            flex: 1;
        }
        
        .modules-grid::-webkit-scrollbar { width: 6px; }
        .modules-grid::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }

        .tile {
            background: var(--bg-card); 
            border-radius: 24px; 
            width: 50%; 
            height: 50%; 
            min-width: 180px;
            min-height: 180px;
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            border: 1px solid var(--border-light); 
            cursor: pointer; 
            transition: all 0.2s; 
            position: relative;
        }
        .tile:hover { background: var(--bg-card-hover); transform: scale(1.03); box-shadow: 0 15px 40px rgba(0,0,0,0.4); border-color: rgba(255,255,255,0.1); z-index: 5; }
        .tile-icon { font-size: 56px; margin-bottom: 20px; transition: transform 0.2s; }
        .tile:hover .tile-icon { transform: scale(1.1); }
        .tile-label { font-size: 17px; font-weight: 700; color: var(--text-main); text-align: center; }
        .tile-sub { font-size: 12px; color: var(--text-sub); margin-top: 4px; font-weight: 500; }

        /* MODULE VIEWS STYLES */
        .module-header {
            padding: 20px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: transparent;
            border-bottom: 1px solid var(--border-light);
            flex-shrink: 0;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.08); border: none; color: #007AFF; font-size: 15px; font-weight: 600;
            cursor: pointer; padding: 8px 16px; border-radius: 20px; display: flex; align-items: center; gap: 6px;
        }
        .back-btn:hover { background: rgba(0, 122, 255, 0.15); }

        .module-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            justify-content: center;
        }

        /* Flashcard Specifics */
         .card-area { width: 100%; display: flex; justify-content: center; align-items: center; perspective: 1200px; flex-direction: column; gap: 30px; }
         .card-wrapper { position: relative; width: 600px; height: 400px; }
         .card { position: relative; width: 100%; height: 100%; transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.4, 0.0, 0.2, 1); cursor: pointer; }
         .card.flipped { transform: rotateY(180deg); }
         .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; background: #1C1C1E; border-radius: 32px; box-shadow: 0 20px 50px rgba(0,0,0,0.4); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px; border: 1px solid var(--border-light); }
         .card-back { transform: rotateY(180deg); background: #1C1C1E; }
         .lang-label { position: absolute; top: 30px; font-size: 12px; font-weight: 700; color: #636366; letter-spacing: 2px; }
         .main-word { font-size: 64px; font-weight: 800; color: #EDEDED; text-align: center; margin-bottom: 20px; }
         .example-sentence { font-size: 18px; color: #8E8E93; font-style: italic; text-align: center; }
         .controls-bar { display: flex; gap: 20px; }

         /* Lists (Phrasen, etc) */
         .list-container { width: 100%; max-width: 800px; display: flex; flex-direction: column; gap: 12px; }
         .list-item { background: #1C1C1E; border-radius: 18px; padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border-light); transition: background 0.2s; }
         .list-item:hover { background: #242426; border-color: var(--accent); }
         
         /* Quiz */
         .quiz-box { background: #1C1C1E; border-radius: 24px; padding: 48px; max-width: 800px; line-height: 2; font-size: 20px; color: #D1D1D6; border: 1px solid var(--border-light); }
         .quiz-word { color: #FF453A; text-decoration: underline; text-decoration-color: rgba(255, 69, 58, 0.3); text-underline-offset: 4px; cursor: pointer; }
         .quiz-word:hover { background: rgba(255, 69, 58, 0.15); }

        /* Login Overlay */
        #login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #0F0F11; z-index: 9999; display: flex; align-items: center; justify-content: center;
            transition: opacity 0.5s ease;
        }
        
        /* Toast */
        .toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: rgba(30, 30, 32, 0.95); padding: 14px 28px; border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; gap: 10px; transition: transform 0.4s; opacity: 0;
            pointer-events: none; z-index: 1000;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

    </style>
</head>
<body>

    <div id="login-overlay">
        <h1 style="color:white; font-size: 24px;">üèõÔ∏è Logging in...</h1>
    </div>

    <div id="app">
        <!-- HEADER (Shared) -->
        <header>
            <div class="brand"><span class="brand-icon">üèõÔ∏è</span> GreekLingua</div>
            <div class="datetime-display" id="datetime">20.01.2026 21:53:05</div>
            <div class="user-profile"><div class="avatar">SW</div><span class="username">SWS</span></div>
        </header>

        <!-- DASHBOARD VIEW -->
        <div id="dashboard-view" class="view active">
            <div class="dashboard-content">
                <div class="hero-section">
                    <div class="stats-card">
                        <div class="stats-top">
                            <div><div class="level-label">Current Level</div><div class="level-badge">B1</div></div>
                            <div class="streak"><span>üî•</span> 5 Days</div>
                        </div>
                        <div class="stats-mid">
                            <div class="stat-item"><div class="val">187</div><div class="lbl">Vocabs</div></div>
                            <div class="stat-item"><div class="val">14.5h</div><div class="lbl">Learned</div></div>
                        </div>
                        <div class="stats-footer"><i>Today:</i> 12 new vocabs & 1 short text.</div>
                    </div>
                    <div class="actions-group">
                        <div class="actions-inner-grid">
                            <div class="grid-cell">
                                <button class="btn btn-primary" onclick="showToast('‚ú® Preparing Magic Round...')"><span>‚ú®</span> Start Magic Round</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-primary" style="background:#FF5722;" onclick="showToast('üìñ Starting Comprehension...')"><span>üìñ</span> Comprehension</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-primary" style="background:#FF9800 !important;" onclick="showToast('üìù Starting Exam Test...')"><span>üìù</span> Exam Test</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-secondary" onclick="showToast('‚ö°Ô∏è Quick Lesson Started')"><span>‚ö°Ô∏è</span> 20 min Quick Lesson</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-primary" style="background:#00BCD4;" onclick="showToast('üéÆ Starting Game...')"><span>üéÆ</span> Game</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-secondary" onclick="showToast('üß™ Running Test...')"><span>üß™</span> Test</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-primary" style="background:#34C759;" onclick="showToast('üìÖ Lesson Started')"><span>üìÖ</span> Lesson Today</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-tertiary" onclick="openView('vokabeln-view')"><span>üîÅ</span> Vokabeln wiederholen</button>
                            </div>
                            <div class="grid-cell">
                                <button class="btn btn-secondary" onclick="window.print()"><span>üñ®Ô∏è</span> Print</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modules-grid">
                    <div class="tile active" onclick="openView('vokabeln-view')">
                        <div class="tile-icon">üìù</div><div class="tile-label">Vokabeln</div><div class="tile-sub">12 Due</div>
                    </div>
                    <div class="tile" onclick="openView('phrases-view')">
                        <div class="tile-icon">üí¨</div><div class="tile-label">Phrases</div><div class="tile-sub">Travel</div>
                    </div>
                    <div class="tile" onclick="openView('quiz-view')">
                        <div class="tile-icon">‚ùì</div><div class="tile-label">Quiz</div><div class="tile-sub">Reading</div>
                    </div>
                    <div class="tile" onclick="openView('cyprus-view')">
                         <div class="tile-icon">üèõÔ∏è</div><div class="tile-label">Cyprus</div><div class="tile-sub">Exam Prep</div>
                    </div>
                    <div class="tile" onclick="showToast('Exam Quiz coming soon')">
                        <div class="tile-icon">‚ùì</div><div class="tile-label">Quiz</div><div class="tile-sub">Reading</div>
                    </div>
                    <div class="tile" onclick="showToast('Video Class coming soon')">
                        <div class="tile-icon">üé•</div><div class="tile-label">Video Class</div>
                    </div>
                    <div class="tile" onclick="showToast('Audio Player coming soon')">
                         <div class="tile-icon">üéß</div><div class="tile-label">Audio</div>
                    </div>
                    <div class="tile" onclick="showToast('Library coming soon')">
                        <div class="tile-icon">üìö</div><div class="tile-label">Library</div>
                    </div>
                    <div class="tile" onclick="showToast('üìö Opening Stories...')">
                        <div class="tile-icon">üìö</div><div class="tile-label">Stories</div><div class="tile-sub">Short Stories</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- VOKABELN VIEW -->
        <div id="vokabeln-view" class="view">
            <div class="module-header">
                <button class="back-btn" onclick="openDashboard()">‚Üê Dashboard</button>
                <div class="progress-container" id="vocab-progress">Lade Daten...</div>
                <div style="font-weight:600">Vocabulary Flashcards</div>
            </div>
            <div class="module-content">
                <div class="card-area">
                    <div class="card-wrapper">
                        <div class="card" id="flashcard" onclick="flipCard()">
                            <div class="card-face card-front">
                                <span class="lang-label">ENGLISH</span>
                                <div class="main-word" id="word-front">...</div>
                                <div class="example-sentence" id="example-front">...</div>
                                <div class="flip-hint">Click to flip</div>
                            </div>
                            <div class="card-face card-back">
                                <span class="lang-label">ŒïŒõŒõŒóŒùŒôŒöŒë</span>
                                <div class="main-word" id="word-back">...</div>
                                <div class="example-sentence" id="example-back">...</div>
                            </div>
                        </div>

                        <div class="rating-bar">
                            <button class="control-btn outline" onclick="rateVocab(1)">üî¥ Schwer</button>
                            <button class="control-btn primary" onclick="rateVocab(2.5)">üü° Gut</button>
                            <button class="control-btn primary" style="background:#34C759;" onclick="rateVocab(3)">üü¢ Sehr gut</button>
                        </div>
                    </div>
                    <div class="controls-bar" id="nav-controls">
                        <button class="btn btn-secondary" style="width:120px;" id="prev-btn" onclick="prevCard()">Prev</button>
                        <button class="btn btn-primary" style="width:160px;" onclick="flipCard()">Flip</button>
                        <button class="btn btn-secondary" style="width:120px;" id="next-btn" onclick="nextCard()">Next</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- PHRASES VIEW -->
        <div id="phrases-view" class="view">
             <div class="module-header">
                <button class="back-btn" onclick="openView('dashboard-view')">‚Üê Dashboard</button>
                <div style="font-weight:600">Common Phrases</div>
            </div>
            <div class="module-content">
                <div class="list-container" id="phrases-list-container">
                    <!-- JS Injected -->
                </div>
            </div>
        </div>

        <!-- QUIZ VIEW -->
        <div id="quiz-view" class="view">
             <div class="module-header">
                <button class="back-btn" onclick="openView('dashboard-view')">‚Üê Dashboard</button>
                <div style="font-weight:600">Reading Quiz</div>
            </div>
            <div class="module-content">
                <div class="quiz-box">
                    <p id="quiz-content"></p>
                </div>
            </div>
        </div>
        
        <!-- CYPRUS VIEW -->
        <div id="cyprus-view" class="view">
            <div class="module-header">
               <button class="back-btn" onclick="openView('dashboard-view')">‚Üê Dashboard</button>
               <div style="font-weight:600">Cyprus Exam Preparation</div>
           </div>
           <div class="module-content">
               <div class="modules-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); padding:0;">
                   <div class="tile" onclick="showToast('Listening Exercise...')">
                       <div class="tile-icon">üéß</div><div class="tile-label">Listening</div>
                   </div>
                   <div class="tile" onclick="showToast('Reading Exercise...')">
                        <div class="tile-icon">üìñ</div><div class="tile-label">Reading</div>
                   </div>
                   <div class="tile" onclick="showToast('Writing Exercise...')">
                        <div class="tile-icon">‚úçÔ∏è</div><div class="tile-label">Writing</div>
                   </div>
               </div>
           </div>
       </div>

        <!-- TOAST -->
        <div id="toast" class="toast"><span>üöÄ</span><span id="toast-msg">Action started</span></div>

    </div>

    <script>
        // DATA
        const vocab = [
            { en: "Hello", gr: "ŒìŒµŒπŒ± œÉŒøœÖ", ex_en: "Hello friend", ex_gr: "ŒìŒµŒπŒ± œÉŒøœÖ œÜŒØŒªŒµ" },
            { en: "Thank you", gr: "ŒïœÖœáŒ±œÅŒπœÉœÑœé", ex_en: "Thank you very much", ex_gr: "ŒïœÖœáŒ±œÅŒπœÉœÑœé œÄŒøŒªœç" },
            { en: "Water", gr: "ŒùŒµœÅœå", ex_en: "I want water", ex_gr: "ŒòŒ≠Œªœâ ŒΩŒµœÅœå" }
        ];
        const phrases = [
            { en: "Good morning", gr: "ŒöŒ±ŒªŒ∑ŒºŒ≠œÅŒ±" },
            { en: "How are you?", gr: "Œ§Œπ Œ∫Œ¨ŒΩŒµŒπœÇ;" },
            { en: "I'm fine", gr: "ŒïŒØŒºŒ±Œπ Œ∫Œ±ŒªŒ¨" }
        ];
        const quizText = `Œ£ŒÆŒºŒµœÅŒ± ŒµŒØŒΩŒ±Œπ ŒºŒπŒ± œåŒºŒøœÅœÜŒ∑ <u class="quiz-word" onclick="alert('Day')">ŒºŒ≠œÅŒ±</u>.`;

        // STATE
        let currentVocabIdx = 0;
        let isFlipped = false;

        // INIT
        window.onload = () => {
            // Login Animation
            setTimeout(() => {
                const overlay = document.getElementById('login-overlay');
                overlay.style.opacity = '0';
                setTimeout(() => overlay.remove(), 500);
            }, 1000);

            // Load Data
            loadPhrases();
            document.getElementById('quiz-content').innerHTML = quizText;
            updateCard();
            
            // Start live datetime
            updateDateTime();
            setInterval(updateDateTime, 1000);
        };

        // Update DateTime Display
        function updateDateTime() {
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = now.getFullYear();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            
            const dateTimeStr = `${day}.${month}.${year} ${hours}:${minutes}:${seconds}`;
            document.getElementById('datetime').innerText = dateTimeStr;
        }

        // NAVIGATION
        function openView(viewId) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
        }

        function showToast(msg) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }

        // MODULE LOGIC
        function loadPhrases() {
            const container = document.getElementById('phrases-list-container');
            container.innerHTML = phrases.map(p => `
                <div class="list-item">
                    <span style="color:#EDEDED">${p.en}</span>
                    <span style="color:#007AFF; font-weight:700">${p.gr}</span>
                </div>
            `).join('');
        }

        // FLASHCARD
        function updateCard() {
            const v = vocab[currentVocabIdx];
            document.getElementById('word-front').innerText = v.en;
            document.getElementById('example-front').innerText = v.ex_en;
            document.getElementById('word-back').innerText = v.gr;
            document.getElementById('example-back').innerText = v.ex_gr;
        }

        function flipCard() {
            const c = document.getElementById('flashcard');
            isFlipped = !isFlipped;
            isFlipped ? c.classList.add('flipped') : c.classList.remove('flipped');
        }

        function nextCard() {
            if (currentVocabIdx < vocab.length - 1) {
                currentVocabIdx++;
                resetCard();
            }
        }

        function prevCard() {
            if (currentVocabIdx > 0) {
                currentVocabIdx--;
                resetCard();
            }
        }

        function resetCard() {
            isFlipped = false;
            document.getElementById('flashcard').classList.remove('flipped');
            setTimeout(updateCard, 300);
        }
    </script>
</body>
</html>
